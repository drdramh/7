<html dir="rtl">
<head>
  <meta charset='UTF-8'/>
  <title>كلمات منسية</title>
  <meta content='width=device-width, initial-scale=1.0' name='viewport'/>
  <meta property="og:title" content="لعبة كلمات منسية">
  <meta property="og:description" content="اسئلة ذكاء  ولعبة تخمين كلمات">
  <meta property="og:image" content="https://f0.pngfuel.com/png/197/939/red-question-mark-png-clip-art.png">
  <meta property="og:url" content="">
  <link href='https://fonts.googleapis.com/css?family=Tajawal' rel='stylesheet'/>
  <link href='https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css' rel='stylesheet'/> 
  <link href='#' rel='icon' type='image/x-icon'/>
</head>
<body>
   <div class="header">
    <a href="#"><img alt="Forgetten Words" src="https://i.imgur.com/hrwkzuS.png" style="width: 25px;margin-top: 7px;">لعبة تخمين الكلمات</a>

    <div>أنت الآن في المستوى <span id="yourLevel"></span></div>
      <button class="btn" onclick="createQuestion(0)" >المستوى الأول</button>
      <button class="btn" onclick="createQuestion(3)">المستوى الثاني</button>
      <button class="btn" onclick="createQuestion(6)">المستوى الثالث</button>
      <button class="btn" onclick="createQuestion(9)">المستوى الرابع</button>
   <br>
  </div>

   <div id="quiz"></div>
   
   
   
   
   
   <div class="inputall">
   <span id="input"></span>
   <button id="undo1" disabled="true" onclick="undo()">X</button>
   <input type="text" id="txt">
   <button id="helpBtn" onclick="help()">مساعدة</button>
   </div>
   
   
   
   
   
   
   
   
   
   <br> 
   <div id="choices"></div>
   <br> 
   <div id="myModal" class="modal">
   <div class="modal-content">أحسنت.. رائع<hr><span id="next"></span><span id="back"></span></div>
   </div>
  
  
 
<div id="helpDiv" class="modal2">
  <div class="modal-content2">
    <span class="close2">&times;</span>
    <p id="unsolved"></p>
	<p id="slv">الحل<br></p>
  </div>
</div>


  

</body>


 <footer class="footer">
 <p>All Rights Reserved</p>
 </footer>

<style>





  .modal {
    display: none; 
    position: fixed; 
    z-index: 1;
    top:30%;
    margin: auto;
	text-align:center;
	right:20%;
    width: 50%; 
    height: 30%; 
    background-color: rgb(0,0,0); 
    background-color: rgba(0,0,0,0.4); 
  }
  
  
 
  .modal-content {
    background-color: #fefefe;
    margin:5% auto; 
    padding: 5px;
    border: 1px solid #888;
    width: 80%; 
	height:80%;
	text-align:center;
  }
  
  .modal-content span{
   text-align:center;
   margin:10px;
   
   
  }
  
  #nextLevel{
     width:80px;
      background-color: blue;
	  border: 1px solid black;
	  border-radius:5px;
     color:#fff;
	 box-shadow: 0px 7px 10px rgba(0, 0, 0, 0.12);
	 padding:5px;
	 font-weight:bold;
	 cursor: pointer;
   }
    
	
	#backLevel{
     width:80px;
	 background-color: red;
	 border: 1px solid black;
	 border-radius:5px;
     color:#fff;
	 box-shadow: 0px 7px 10px rgba(0, 0, 0, 0.12);
	 padding:5px;
	 font-weight:bold;
	 cursor: pointer;
   }
   
   #unsolved{
   text-align:center;
   margin:auto;
   justify-content: center;
   }

 .unslvd{
     margin:auto;
	 margin: 8px auto;
	 text-align:center;
     width:90px;
	 background-color: red;
	 border: 1px solid black;
	 border-radius:5px;
     color:#fff;
	 box-shadow: 0px 7px 10px rgba(0, 0, 0, 0.2);
	 padding:5px;
	 
	 cursor: pointer;
 }
   
   #slv{
      
	  background-color: yellow;
	  color:red;
	  font-weight:bold;
	  font-size:20px;
   }
   

 .inputall{display:inline-block; width:100%;}
  
  #quiz{margin:5px;text-align:right}
  
  #txt,#check,#undo1,#helpBtn{font-size:0.7em;line-height:35px;border-radius:5px;text-align:center;border:1px black solid;font-weight:bold;}
  
  #txt{width:55%;border:2px blue solid;font-size:1em;}
  
  #check{width:15%;background: orange;cursor: pointer; box-shadow: 0px 7px 10px rgba(0, 0, 0, 0.12);}
  
  #undo1{width:8%;font-size:15px;font-weight:bold;background: red;cursor: pointer; box-shadow: 0px 7px 10px rgba(0, 0, 0, 0.12);}
  
  #helpBtn{border-radius:5px;background: green;color:#fff;padding:1px;cursor: pointer; box-shadow: 0px 7px 10px rgba(0, 0, 0, 0.12);}
  
  .btn{font-size:9px;border-radius:5px;text-align:center;border:0px;padding:1px;cursor: pointer;background: #045FB4;color:#fff; box-shadow: 0px 7px 10px rgba(0, 0, 0, 0.12);}
  

  .items{float:left}

  #choices {text-align:center;margin:auto;}

  
  
  
  



	 *{
  margin: 0;
  padding: 0;
  font-family: Tajawal;
  box-sizing: border-box;
}


body {
  width: 100%;
  text-align: center;
  position: relative;
  background: yellow;
  background-size: cover;
  word-break: break-word;
  font-family: 'Tajawal', sans-serif;
}

.header {
  font-size:20px;
  line-height:50px;
  padding: 0px 20px;
  margin-bottom: 20px;
  background: #F2F5A9;
  box-shadow: 0px 4px 14px rgba(0, 0, 0, 0.2);
}

.container {
 
  align-items: center;
  justify-content: center;
  background: #0B0B61;
  box-shadow: 0px 18px 10px #d6d6d6
}


  .button{
  color:#fff;
  font-size:1.1em;
  min-width:23%;
  height:50px;
  text-align:center;
  margin:3px;
  border: transparent;
  border-radius:5px;
  display: inline-block;
  outline: 0;
  border: 0 px;
  cursor: pointer;
  background: #045FB4;
  font-family: Tajawal;
  box-shadow: 0px 7px 10px rgba(0, 0, 0, 0.12);
  }
  

 
  
  
  
  
  #helpDiv {
    display: none; 
    position: fixed; 
    z-index: 1; 
    left: 0;
    top: 0;
    width: 100%; 
    height: 100%; 
    overflow: auto; 
    background-color: rgb(0,0,0); 
    background-color: rgba(0,0,0,0.4); 
  }
  

  .modal-content2 {
    background-color: #fefefe;
    margin: 15% auto; 
    padding: 20px;
    border: 1px solid #888;
    width: 80%; 
  }
  

  .close2 {
    color: #aaa;
    float: right;
    font-size: 28px;
    font-weight: bold;
  }
  
  .close2:hover,
  .close2:focus {
    color: black;
    text-decoration: none;
    cursor: pointer;
  }
  
  
  
  
  .popup5 {
    animation: popup5 0.6s;
  }
  
  @keyframes popup5 {
    0% {
      transform: scale(1);
    }
    50% {
      transform: scale(1.04);
    }
    60% {
      transform: scale(1.05);
    }
    70% {
      transform: scale(1.06);
    }
    80% {
      transform: scale(1);
    }
    90% {
      transform: scale(1.06);
    }
    100% {
      transform: scale(1);
    }
  }
  
  
  
  

#img{
   width:280px;
   height:225px;
   margin:9px;
   border-radius: 5px;
   border: 1px;
   box-shadow: 0px 7px 10px rgba(0, 0, 0, 0.12);
   }

a {
  color:  #1AA0C5;
  text-decoration: none;
}


  
  
  .footer {
  position: absolute;
  font-size: 13px;
  bottom: 10px;
  text-align:center;
  left:37%;
  }
  
  
@media only screen and (max-width: 900px) {
 
  .bttn{
  width: 40%;
  }
  
  #img{
   width:240px;
   height:225px;
   }

}

  
  
  </style>
  

<script>

var lvl_0 = {
"الاسماك":"تعيش في الماء",
"الصيدلي":"يجهز الادوية",
"المحمول":"تتصل بالاصدقاء من خلاله",
};
var lvl_3 = {
"النجار":"يصنع الاخشاب",
"الجامعة":"العديد من الكليات",
"شلال المياة":"من الاماكن الطبيعية",
};
var lvl_6 = {
"الدكتور":"يكتب الروشتات",
"كرة القدم":"اشهر رياضة تعتبر",
"اللاب توب":"كمبيوتر محمول",
};
var lvl_9 = {
"الطبيب":"يشخص الأمراض",
"المهندس":"يرسم المباني",
"المزارع":"يزرع الأرض",
};



var ret = localStorage.getItem("level");



createQuestion(ret);

function createQuestion(va){

 
 level = va;
 
 document.getElementById('input').innerHTML = "<button id='check' onclick='check(level)'>فحـــص</button>";
 
document.getElementById('yourLevel').innerHTML = (parseInt(level)+3)/3;

//document.getElementById('debug').innerHTML = level;

words = window["lvl_" + level] ;

document.getElementById('quiz').innerHTML ="";
document.getElementById('choices').innerHTML="";
document.getElementById("myModal").style.display = "none";
// Create Choices 
var splits = [];
for (word in words){
if(word.length <= 9){splits.push(word.match(/.{1,3}/g));}else if (word.length > 9){splits.push(word.match(/.{1,4}/g));}}
var spreadArray =  [].concat.apply([], splits);

spreadArray = spreadArray.sort(() => Math.random() - 0.5); // randomize the array items

// Spread Choices Over Buttons
for(k=0;k<spreadArray.length;k++){
document.getElementById('choices').innerHTML += "<input type='button' class='button popup5' value='Choices' onclick='typeItem(this.value,this.id)'>";
document.getElementsByClassName('button')[k].value = spreadArray[k];
document.getElementsByClassName('button')[k].id = k+"id";}





// create Questions Items
if (words){
for(i = 0; i < Object.keys(words).length; i++){
document.getElementById('quiz').innerHTML +=
 "<span class='number'>" + (i+1) + "- </span>" + " <span class='bold'>" + Object.values(words)[i] + "</span><span class='items'>" + Object.keys(words)[i].length + " أحرف</span><hr>";
 }
 }
 }
 

var solvedQuestions = [];

// main function that checks if the answers are true or not.

function check(va) {
level = va;
var textWord = document.getElementById('txt').value.toString();
if (words){

var found = false;

for (w = 0; w < Object.keys(words).length; w++){

  if (textWord == Object.keys(words)[w]){
  
  solvedQuestions.push(Object.keys(words)[w]);

document.getElementById('txt').value = "";
level++;
document.getElementById('undo1').disabled = true;
document.getElementsByClassName('items')[w].innerHTML = "<strong style='color:red'>" + Object.keys(words)[w] + "</strong>";
document.getElementsByClassName('bold')[w].innerHTML = "<strong style='color:red'>" + Object.values(words)[w] + "</strong>";
document.getElementsByClassName('number')[w].innerHTML = "<strong style='color:red'>" + "&#10004;" + " - </strong>";

if(level%3 == 0 && level < 10 ){document.getElementById('next').style.display="block";
document.getElementById('next').innerHTML = "<button id='nextLevel' onclick='createQuestion(level);localStorage.setItem("+"&quot;level&quot;"+", level)'> التالي</button><br>";
document.getElementById('back').innerHTML ="<button id='backLevel' onclick='createQuestion(level-6);'> السابق</button>";
document.getElementById("myModal").style.display = "block";}

typedItems = [];
found = true;
break;
}
}
if (found == false) {undo();}
}

};

function difference(a1,a2) {
  var result = [];
  for (var i = 0; i < a1.length; i++) {
    if (a2.indexOf(a1[i]) === -1) {
      result.push(a1[i]);}
  }
  return result;
}


var splits2 = {};
var c  = -1;
var h = 7;
function help(){
document.getElementById('unsolved').innerHTML = "<p>اضغط على السؤال لتحصل على مساعدة</p><p id='numberOfh'>متبقي عدد مساعدات"+ h +"</p><hr>"
for (word in words){
  if(difference(Object.keys(words),solvedQuestions).indexOf(word) > -1){
document.getElementById('unsolved').innerHTML += "<p class='unslvd' onclick='solveIt(this.textContent)'>" + words[word] + "</p>";
  }

if(word.length <= 9){splits2[words[word]] = (word.match(/.{1,3}/g));}

else if (word.length > 9){splits2[words[word]] = (word.match(/.{1,4}/g));}
}

var modal2 = document.getElementById("helpDiv");
var span2 = document.getElementsByClassName("close2")[0];
modal2.style.display = "block";
span2.onclick = function() {
  modal2.style.display = "none";
  document.getElementById('unsolved').innerHTML ="";
  document.getElementById('slv').innerHTML ="الحل<br>";
   c  = -1;
}
window.onclick = function(event) {
  if (event.target == modal2) {
    modal2.style.display = "none";
	document.getElementById('unsolved').innerHTML ="";
	document.getElementById('slv').innerHTML ="الحل<br>";
	 c  = -1;
  }
}
}

function solveIt(valt){
h--;
c++;
if (c < splits2[valt].length && h > -1 ){
document.getElementById('slv').innerHTML += splits2[valt][c];
document.getElementById('numberOfh').innerHTML = " متبقي عدد مساعدات :  " + h;
}
}

var typedItems = [];
function typeItem(val,idd){
document.getElementById(idd).style.visibility = 'hidden';
typedItems.push(val);
document.getElementById('txt').value = typedItems.join("");
document.getElementById('undo1').disabled = false;
}

function undo(){
document.getElementById('txt').value = "";
 for(t in typedItems){
document.querySelector("input[value='" + typedItems[t] + "']").style.visibility = 'visible';}              
typedItems = [];
if (typedItems.length < 1){document.getElementById('undo1').disabled = true;}
}


</script>


</html>
