<html dir="rtl">
<head>
  <meta charset='UTF-8'/>
  <title>كلمات منسية</title>
  <meta content='width=device-width, initial-scale=1.0' name='viewport'/>
  <meta property="og:title" content="لعبة كلمات منسية">
  <meta property="og:description" content="اسئلة ذكاء  ولعبة تخمين كلمات">
  <meta property="og:image" content="https://f0.pngfuel.com/png/197/939/red-question-mark-png-clip-art.png">
  <meta property="og:url" content="">
  <link href='https://fonts.googleapis.com/css?family=Tajawal' rel='stylesheet'/>
  <link href='https://fonts.googleapis.com/css?family=Amiri' rel='stylesheet'/>
  <link href='https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css' rel='stylesheet'/> 
  <link href='#' rel='icon' type='image/x-icon'/>
</head>
<body>
   <div class="header">
    <a href="#"><img alt="Forgetten Words" src="https://i.imgur.com/hrwkzuS.png" style="width: 20px;margin-top: 7px;">لعبة تخمين الكلمات</a>
  <!--  <span id="ylvl"> المستوى <span id="yourLevel"></span></span> -->
  </div>
     
	 <div id="prePage"></div>
	 
<div id="main">
   <div id="quiz"></div>
   <div class="inputall">
   <span id="input"></span>
   <button id="undo1" disabled="true" onclick="undo()">X</button>
   <input type="text" id="txt">
   <button id="helpBtn" onclick="help()">مساعدة</button>
   </div>
   <div id="choices"></div>
  
</div>
  
   <div id="myModal" class="modal">
   <div class="modal-content">أحسنت.. رائع<hr><span id="next"></span></div>
   </div>
  
  
 
<div id="helpDiv" class="modal2">
  <div class="modal-content2">
    <span class="close2">&times;</span>
    <p id="unsolved"></p>
	<p id="slv">الحل<br></p>
  </div>
</div>


  <audio id="sndclick" src="btnclick.wav"></audio>
  <audio id="rightAns" src="rtans.mp3"></audio>
  <audio id="wrongAns" src="wrong.wav"></audio>
  <audio id="nxtlvl" src="nextlevel.wav"></audio>
 
<div id="dbg"></div>
</body>


 <footer class="footer">
 <br><input id="backMain" type="button" value="العودة للرئيسية" class="outerbtn2" onclick="backToMain()">
	 3
 <p>All Rights Reserved</p>
 </footer>




<script>

var objArrayLvl =[
{
"بيروت":"عاصمة دولة عربية",
"عضلات":"بها يتحرك جسم الإنسان",
"برتقال":"فاكهة غنية بفيتامين سي",
"زين الدين زيدان":"لاعب فرنسي من أصول عربية",
"الزهايمر":"مرض يصيب كبار السن",
"اليابان":"دولة آسيوية متقدمة",
"كلينتون":"كان رئيس للولايات المتحدة الأمريكية",
},
{
"الحجاب الحاجز":"العضلة المسؤولة عن التنفس",
"بلجيكا":"دولة أوروبية",
"التمساح":"من أضخم الزواحف الحية ولا يستطيع اخراج لسانه",
"الفجر":"سورة في القرآن",
"محمد صلاح":"لاعب كرة مصري محترف",
"اسقربوط":"مرض بسبب نقص فيتامين سي",
"زلزال":"ظاهرة طبيعية قد تسبب كوراث",
},
{
"متوازيان":"لا يتقابلان أبدا",
"المتنبي":"الشاعر صاحب قول أنا الذي نظر الأعمى إلى أدبي",
"موريتانيا":"دولة عربية أفريقية",
"بونس ايريس":"عاصمة الأرجنتين",
"انسجام":"تفاهم وتناغم",
"ابراهيموفيتش":"لاعب كرة قدم سويدي محترف",
"كالسيوم":"مهم لصحة العظام",
},/*
{
"aaa":"bbb",
"aaa":"bbb",
"aaa":"bbb",
"aaa":"bbb",
"aaa":"bbb",
"aaa":"bbb",
"aaa":"bbb",
},
*/
];
var h;
if (h == null){h = 14;localStorage.setItem("helpForget", h)};
if(ret == null){ret = 0};

var ret = localStorage.getItem("level");

var outerButtons = document.getElementsByClassName('outerbtn');
for (a = 0; a < objArrayLvl.length; a++){
document.getElementById('prePage').innerHTML += "<input type='button' class='outerbtn' value='"  + " المستوى " + (a+1) + "' onclick='createQuestion(" + 7*a + ")'>";
if(a > ret/7 ){outerButtons[a].disabled = true;outerButtons[a].style.opacity = 0.3;}}

function backToMain(){
location = location;
document.getElementById('prePage').style.display = 'block';
document.getElementById('main').style.display = 'none';
document.getElementById('backMain').style.display = 'none';
//document.getElementById('ylvl').style.display = 'none'; 
}
function createQuestion(va){
document.getElementById('prePage').style.display = 'none';
document.getElementById('backMain').style.display = 'block';
//document.getElementById('ylvl').style.display = 'block'; 
document.getElementById('main').style.display = 'block';
level = va;
document.getElementById('input').innerHTML = "<button id='check' onclick='check(level)'>فحـــص</button>";
//document.getElementById('yourLevel').innerHTML = (level/3) + 1;
words = objArrayLvl[level/7];
document.getElementById('quiz').innerHTML        ="";
document.getElementById('choices').innerHTML     ="";
document.getElementById("myModal").style.display = "none";
// Create Choices 
var splits = [];
for (word in words){
splits.push(word.match(/.{1,3}/g));}
//if(word.length <= 9){splits.push(word.match(/.{1,3}/g));}else if (word.length > 9){splits.push(word.match(/.{1,4}/g));}}
var spreadArray =  [].concat.apply([], splits);
spreadArray = spreadArray.sort(() => Math.random() - 0.5); // randomize the array items
// Spread Choices Over Buttons
for(k=0;k < spreadArray.length; k++){
document.getElementById('choices').innerHTML       += "<input type='button' class='button popup5' value='Choices' onclick='typeItem(this.value,this.id)'>";
document.getElementsByClassName('button')[k].value  = spreadArray[k];
document.getElementsByClassName('button')[k].id     = k+"id";}
// create Questions Items
if (words){
for(i = 0; i < Object.keys(words).length; i++){
document.getElementById('quiz').innerHTML +=
 "<span class='number'>" + (i+1) + "- </span>" + " <span class='bold'>" + Object.values(words)[i] + "</span><span class='items'>" + Object.keys(words)[i].length + " أحرف</span><hr>";
 document.getElementById('nxtlvl').play();
document.getElementById('nxtlvl').volume = 0.2;
document.getElementById('nxtlvl').playbackRate=2;
 }}} 
var solvedQuestions = [];
// main function that checks if the answers are true or not.
function check(va) {
level = va;
var textWord = document.getElementById('txt').value.toString();
if (words){
var found = false;
for (w = 0; w < Object.keys(words).length; w++){

  if (textWord == Object.keys(words)[w]){
  
solvedQuestions.push(Object.keys(words)[w]);
document.getElementById('txt').value = "";
level++;
//document.getElementById('dbg').innerHTML = level;
document.getElementById('undo1').disabled = true;
document.getElementsByClassName('items')[w].innerHTML  = "<strong style='color:red'>" + Object.keys(words)[w] + "</strong>";
document.getElementsByClassName('bold')[w].innerHTML   = "<strong style='color:red'>" + Object.values(words)[w] + "</strong>";
document.getElementsByClassName('number')[w].innerHTML = "<strong style='color:red'>" + "&#10004;" + " - </strong>";
document.getElementById('rightAns').play();
document.getElementById('rightAns').volume = 0.1;
if(level%7 == 0 && level < 7*objArrayLvl.length && level > localStorage.getItem("level")){document.getElementById('next').style.display="block";
document.getElementById('next').innerHTML = 
"<button id='nextLevel' onclick='createQuestion(level);localStorage.setItem("+"&quot;level&quot;"+", level);'> المستوى التالي</button><br>";
document.getElementById("myModal").style.display = "block";
document.getElementById('rightAns').muted = true;
document.getElementById('nxtlvl').play();
document.getElementById('nxtlvl').volume = 0.3;
}
typedItems = [];
found = true;
break;
}
}
if (found == false) {undo();
document.getElementById('wrongAns').play();
document.getElementById('wrongAns').volume = 0.5;
document.getElementById('helpBtn').classList.add("shk");
setTimeout(function(){ document.getElementById('helpBtn').classList.remove("shk"); }, 1000);
}
}
};
function difference(a1,a2) {
  var result = [];
  for (var i = 0; i < a1.length; i++) {
    if (a2.indexOf(a1[i]) === -1) {
      result.push(a1[i]);}
  }
  return result;
}
var splits2 = {};
var c  = -1;
if(h !== null){h = localStorage.getItem("helpForget")}else{h=14}; 
function help(){
document.getElementById('unsolved').innerHTML = "<p>اضغط على السؤال لتحصل على مساعدة</p><p id='numberOfh'>متبقي عدد مساعدات"+ h +"</p><hr>"
for (word in words){
  if(difference(Object.keys(words),solvedQuestions).indexOf(word) > -1){
document.getElementById('unsolved').innerHTML += "<p class='unslvd' onclick='solveIt(this.textContent)'>" + words[word] + "</p>";
  };
splits2[words[word]] = word.match(/.{1,3}/g);
//if(word.length <= 9){splits2[words[word]] = (word.match(/.{1,3}/g));}else if (word.length > 9){splits2[words[word]] = (word.match(/.{1,4}/g));}
}
var modal2 = document.getElementById("helpDiv");
var span2 = document.getElementsByClassName("close2")[0];
modal2.style.display = "block";
span2.onclick = function() {
  modal2.style.display = "none";
  document.getElementById('unsolved').innerHTML ="";
  document.getElementById('slv').innerHTML ="الحل<br>";
   c  = -1;
}
window.onclick = function(event) {
  if (event.target == modal2) {
    modal2.style.display = "none";
	document.getElementById('unsolved').innerHTML ="";
	document.getElementById('slv').innerHTML ="الحل<br>";
	 c  = -1;
  }}}
function solveIt(valt){
c++;
if(h>0){
h--;
localStorage.setItem("helpForget", h);
if (c < splits2[valt].length && h > -1 ){
document.getElementById('slv').innerHTML += splits2[valt][c];
document.getElementById('numberOfh').innerHTML = " متبقي عدد مساعدات :  " + h;
}}}

var typedItems = [];
function typeItem(val,idd){
document.getElementById('sndclick').playbackRate=2;
document.getElementById('sndclick').play();
document.getElementById('sndclick').volume = 0.1;
document.getElementById(idd).style.visibility = 'hidden';
document.getElementById(idd).classList.add("clicked");
typedItems.push(val);
document.getElementById('txt').value = typedItems.join("");
document.getElementById('undo1').disabled = false;
}
function undo(){
document.getElementById('txt').value = "";
for(t in typedItems){
document.querySelector("input[value='" + typedItems[t] + "']").style.visibility = 'visible';}
 //document.getElementsByClassName("clicked")[t].style.visibility = 'visible';}    تحتاج إعادة نظر وتجربتها خارجياً
typedItems = [];
if (typedItems.length < 1){document.getElementById('undo1').disabled = true;}
};
</script>





<style>

#main, #backMain, #ylvl{display:none;text-align:center;margin:auto;}

.outerbtn, .outerbtn2{
margin:10px;
font-size:1em;
min-width:23%;
height:50px;
text-align:center;
border: transparent;
border-radius:5px;
padding: 5px;
border: 1 px;
cursor: pointer;
background: yellow;
font-family: Tajawal;
box-shadow: 0px 7px 10px rgba(0, 0, 0, 0.3);



}

	 *{
 
  padding: 0;
  font-family: Tajawal;
  box-sizing: border-box;
}



body {
  margin:auto;
  width: 40%;
  text-align: center;
  position: relative;
  background: #81F7F3;
  background-size: cover;
  word-break: break-word;
  font-family: 'Tajawal', sans-serif;
}

.header {
  font-size:15px;
  line-height:50px;
  padding: 0px 20px;
  margin-bottom: 20px;
  background: #F2F5A9;
  box-shadow: 0px 4px 14px rgba(0, 0, 0, 0.2);
}



#quiz{
    margin:2px;
    text-align:right;
    line-height:10px;
    font-size:0.9em;
   }

  .button{
  color:#fff;
  font-size:1.4em;
  min-width:23%;
  height:45px;
  text-align:center;
  margin:3px;
  border: transparent;
  border-radius:5px;
  display: inline-block;
  outline: 0;
  border: 0 px;
  cursor: pointer;
  background: #045FB4;
  font-family: Amiri;
  box-shadow: 0px 7px 10px rgba(0, 0, 0, 0.12);
  }
  
  

.container {
 
  align-items: center;
  justify-content: center;
  background: #0B0B61;
  box-shadow: 0px 18px 10px #d6d6d6
}

  
  
 .inputall{display:inline-block; width:100%;}
  
  
  
  #txt,#check,#undo1,#helpBtn{font-size:0.7em;line-height:35px;border-radius:5px;text-align:center;border:1px #000 solid;font-weight:bold;}
  
  #txt{width:55%;font-size:1em;}
  
  #check{width:15%;background: orange;cursor: pointer; box-shadow: 0px 7px 10px rgba(0, 0, 0, 0.12);}
  
  #undo1{width:8%;font-weight:bold;background: red;cursor: pointer; box-shadow: 0px 7px 10px rgba(0, 0, 0, 0.12);color:#fff;}
  
  #helpBtn{border-radius:5px;background: #40FF00;padding:0px 1px;cursor: pointer; box-shadow: 0px 7px 10px rgba(0, 0, 0, 0.12);}
  
  .btn{font-size:9px;border-radius:5px;text-align:center;border:0px;padding:1px;cursor: pointer;background: #045FB4;color:#fff; box-shadow: 0px 7px 10px rgba(0, 0, 0, 0.12);}
  

  .items{float:left}

  #choices {text-align:center;margin:auto;}





  .modal {
    display: none; 
    position: fixed; 
    z-index: 1;
    top:30%;
    margin: auto;
	text-align:center;
	right:25%;
    width: 40%; 
    height: 30%; 
    background-color: rgb(0,0,0); 
    background-color: rgba(0,0,0,0.4); 
  }
  
  
 
  .modal-content {
    background-color: #fefefe;
    margin:5% auto; 
    padding: 5px;
    border: 1px solid #888;
    width: 80%; 
	height:80%;
	text-align:center;
  }
  
  .modal-content span{
   text-align:center;
   margin:10px;
   
   
  }
  
  #nextLevel{
     
     background-color: blue;
	 border: 0px;
	 border-radius:5px;
     color:#fff;
	 box-shadow: 0px 7px 10px rgba(0, 0, 0, 0.3);
	 padding:5px;
	 font-weight:bold;
	 cursor: pointer;
   }
    
	
	#backLevel{
     width:80px;
	 background-color: red;
	 border: 1px solid black;
	 border-radius:5px;
     color:#fff;
	 box-shadow: 0px 7px 10px rgba(0, 0, 0, 0.12);
	 padding:5px;
	 font-weight:bold;
	 cursor: pointer;
   }
   
   #unsolved{
   text-align:center;
   margin:auto;
   justify-content: center;
   }

 .unslvd{
     margin:auto;
	 margin: 8px auto;
	 text-align:center;
     width:90%;
	 background-color: red;
	 border: 1px solid black;
	 border-radius:5px;
     color:#fff;
	 box-shadow: 0px 7px 10px rgba(0, 0, 0, 0.2);
	 padding:5px;
	 
	 cursor: pointer;
 }
   
   #slv{
      
	  background-color: #D8F6CE;
	  font-family:Amiri;
	  font-weight:bold;
	  font-size:20px;
   }
   
  
  #helpDiv {
    display: none; 
    position: fixed; 
    z-index: 1; 
    left: 0;
    top: 0;
    width: 100%; 
    height: 100%; 
    overflow: auto; 
    background-color: rgb(0,0,0); 
    background-color: rgba(0,0,0,0.4); 
  }
  

  .modal-content2 {
    background-color: #fefefe;
    margin: 15% auto; 
    padding: 20px;
    border: 1px solid #888;
    width: 80%; 
  }
  

  .close2 {
    color: #aaa;
    float: right;
    font-size: 28px;
    font-weight: bold;
  }
  
  .close2:hover,
  .close2:focus {
    color: black;
    text-decoration: none;
    cursor: pointer;
  }
  
  .popup5 {
    animation: popup5 0.6s;
  }
  
  @keyframes popup5 {
    0% {
      transform: scale(1);
    }
    50% {
      transform: scale(1.04);
    }
    60% {
      transform: scale(1.05);
    }
    70% {
      transform: scale(1.06);
    }
    80% {
      transform: scale(1);
    }
    90% {
      transform: scale(1.06);
    }
    100% {
      transform: scale(1);
    }
  }
  
  
  
  .shk {
  animation: shake 0.5s;
  animation-iteration-count: 1;
}

@keyframes shake {
  0% { transform: translate(1px, 1px) rotate(0deg); }
  10% { transform: translate(-1px, -2px) rotate(-1deg); }
  20% { transform: translate(-2px, 0px) rotate(1deg); }
  30% { transform: translate(2px, 2px) rotate(0deg); }
  40% { transform: translate(1px, -1px) rotate(1deg); }
  50% { transform: translate(-1px, 2px) rotate(-1deg); }
  60% { transform: translate(-3px, 1px) rotate(0deg); }
  70% { transform: translate(2px, 1px) rotate(-1deg); }
  80% { transform: translate(-1px, -1px) rotate(1deg); }
  90% { transform: translate(1px, 2px) rotate(0deg); }
  100% { transform: translate(1px, -2px) rotate(-1deg); }
}


  
  

#img{
   width:280px;
   height:225px;
   margin:9px;
   border-radius: 5px;
   border: 1px;
   box-shadow: 0px 7px 10px rgba(0, 0, 0, 0.12);
   }

a {
  color:  #1AA0C5;
  text-decoration: none;
}

  .footer {
  position: absolute;
  font-size: 13px;
  bottom: 10px;
  text-align:center;
  left:37%;
  }
  
  
@media only screen and (max-width: 700px) {
  
  body {
  width: 100%;
}

.bttn{
  width: 40%;
  }
  
}

  </style>
  
</html>
